# sfsdkhh
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>大阪 混雑マップ</title>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>

  <style>
    html, body, #map { height: 100%; margin: 0; }
  </style>
</head>
<body>

<div id="map"></div>

<script>
  const map = L.map("map").setView([34.6937, 135.5023], 13);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    attribution: "© OpenStreetMap"
  }).addTo(map);

  const hour = new Date().getHours();

  // 混雑度（0〜1）
  const level = (h) => {
    if (h >= 7 && h <= 9) return 0.8;
    if (h >= 17 && h <= 19) return 0.9;
    if (h >= 12 && h <= 14) return 0.7;
    return 0.3;
  };

  const heatData = [
    [34.7025, 135.4959, level(hour)], // 大阪駅
    [34.6687, 135.5010, level(hour)], // なんば
    [34.6525, 135.5063, level(hour)], // 天王寺
    [34.6654, 135.4323, 0.5]          // USJ
  ];

  L.heatLayer(heatData, {
    radius: 40,
    blur: 25,
    maxZoom: 15
  }).addTo(map);
</script>

</body>
</html>
