# sfsdkhh
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Kochi Tourism Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
body{
  margin:0;
  font-family:"Poppins","Noto Sans JP",sans-serif;
  display:flex;
  height:100vh;
  background:#f4f6f8;
}

/* sidebar */
#sidebar{
  width:300px;
  background:#fff;
  padding:12px;
  overflow-y:auto;
  box-shadow:2px 0 8px rgba(0,0,0,0.08);
}
#sidebar h2{
  margin:0 0 12px;
  font-size:18px;
}
#spot-list{
  list-style:none;
  padding:0;
  margin:0;
}
#spot-list li{
  margin-bottom:8px;
  cursor:pointer;
}
.side-item{
  background:#f9fafb;
  border-radius:10px;
  padding:10px;
  transition:.2s;
}
.side-item:hover{
  background:#e3f2fd;
}
.side-title{
  font-weight:600;
  font-size:14px;
}
.side-genre{
  display:inline-block;
  margin-top:6px;
  padding:2px 8px;
  font-size:11px;
  border-radius:10px;
}
.side-genre[data-genre="Ëá™ÁÑ∂"]{background:#e8f5e9;color:#2e7d32;}
.side-genre[data-genre="ÊñáÂåñ"]{background:#e3f2fd;color:#1565c0;}
.side-genre[data-genre="„Ç∞„É´„É°"]{background:#fff3e0;color:#ef6c00;}
.side-genre[data-genre="‰ΩìÈ®ì"]{background:#f3e5f5;color:#6a1b9a;}

/* map */
#map{
  flex:1;
  position:relative;
}

/* locate button */
#locate-btn{
  position:absolute;
  right:20px;
  bottom:20px;
  width:48px;
  height:48px;
  border:none;
  border-radius:50%;
  background:#1976d2;
  color:#fff;
  font-size:22px;
  cursor:pointer;
  z-index:1000;
  box-shadow:0 4px 10px rgba(0,0,0,.3);
}

/* popup */
.leaflet-popup-content-wrapper{
  border-radius:14px;
}
.popup-name{
  font-weight:700;
  font-size:16px;
}
.popup-stars{
  color:#ffb400;
  margin:4px 0;
}
.popup-desc{
  font-size:13px;
  line-height:1.4;
}
.popup-link a{
  display:inline-block;
  margin-top:6px;
  color:#1976d2;
  font-weight:600;
  text-decoration:none;
}
</style>
</head>

<body>

<div id="sidebar">
  <h2>È´òÁü•Ë¶≥ÂÖâ„Çπ„Éù„ÉÉ„Éà</h2>
  <ul id="spot-list"></ul>
</div>

<div id="map">
  <button id="locate-btn">üìç</button>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const map = L.map("map").setView([33.5597,133.5311],9);

L.tileLayer(
  "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
  { attribution:"Tiles ¬© Esri" }
).addTo(map);

const genrePins = {
  "Ëá™ÁÑ∂":"https://maps.google.com/mapfiles/ms/icons/green-dot.png",
  "ÊñáÂåñ":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
  "„Ç∞„É´„É°":"https://maps.google.com/mapfiles/ms/icons/orange-dot.png",
  "‰ΩìÈ®ì":"https://maps.google.com/mapfiles/ms/icons/purple-dot.png"
};

/* Ë¶≥ÂÖâÂú∞ */
const spots = [
 {name:"Ê°ÇÊµú",lat:33.4961,lng:133.5715,stars:5,genre:"ÊñáÂåñ",desc:"ÂùÇÊú¨ÈæçÈ¶¨ÂÉè„ÅßÊúâÂêç„Å™ÊôØÂãùÂú∞„ÄÇ",link:"https://katsurahama-park.com/"},
 {name:"‰ªÅÊ∑ÄÂ∑ù",lat:33.5535,lng:133.0458,stars:5,genre:"Ëá™ÁÑ∂",desc:"‰ªÅÊ∑Ä„Éñ„É´„Éº„ÅÆÊ∏ÖÊµÅ„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"„Å´„ÅìÊ∑µ",lat:33.6446,lng:133.1656,stars:4,genre:"Ëá™ÁÑ∂",desc:"Á•ûÁßòÁöÑ„Å™ÊªùÂ£∫„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"ÂåóÂ∑ùÊùë„É¢„Éç„ÅÆÂ∫≠",lat:33.5836,lng:134.0622,stars:4,genre:"ÊñáÂåñ",desc:"„É¢„ÉçÂÖ¨Ë™ç„ÅÆÂ∫≠Âúí„ÄÇ",link:"https://www.monet-garden.jp/"},
 {name:"ÂõõÂõΩ„Ç´„É´„Çπ„Éà",lat:33.3652,lng:132.9253,stars:4,genre:"Ëá™ÁÑ∂",desc:"Ê®ôÈ´ò1000m„ÅÆÁµ∂ÊôØÈ´òÂéü„ÄÇ",link:"https://visitkochijapan.com/"},
 {name:"È´òÁü•Âüé",lat:33.5599,lng:133.5312,stars:3,genre:"ÊñáÂåñ",desc:"ÁèæÂ≠òÂ§©ÂÆà„ÅÆÂüé„ÄÇ",link:"https://kochipark.jp/kochijyo/"},
 {name:"„Å≤„Çç„ÇÅÂ∏ÇÂ†¥",lat:33.5586,lng:133.5310,stars:4,genre:"„Ç∞„É´„É°",desc:"È´òÁü•„Ç∞„É´„É°„ÅÆËÅñÂú∞„ÄÇ",link:"https://www.hirome.co.jp/"},
 {name:"ÂùÇÊú¨ÈæçÈ¶¨Ë®òÂøµÈ§®",lat:33.5072,lng:133.5905,stars:4,genre:"ÊñáÂåñ",desc:"ÈæçÈ¶¨„ÅÆË≥áÊñôÈ§®„ÄÇ",link:"https://ryoma-kinenkan.jp/"},
 {name:"Âõõ‰∏áÂçÅÂ∑ù",lat:33.2333,lng:132.8667,stars:5,genre:"Ëá™ÁÑ∂",desc:"Êó•Êú¨ÊúÄÂæå„ÅÆÊ∏ÖÊµÅ„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"ÁâßÈáéÊ§çÁâ©Âúí",lat:33.5612,lng:133.5372,stars:4,genre:"Ëá™ÁÑ∂",desc:"ÁâßÈáéÂØåÂ§™ÈÉé„ÇÜ„Åã„Çä„ÄÇ",link:"https://www.makino.or.jp/"},
 {name:"ÈáëÂâõÁ¶èÂØ∫",lat:32.7280,lng:133.0282,stars:4,genre:"ÊñáÂåñ",desc:"Á¨¨38Áï™Êú≠ÊâÄ„ÄÇ",link:"https://www.kongofukuji.or.jp/"},
 {name:"Á®≤Âè¢Â±±",lat:33.6312,lng:133.1150,stars:4,genre:"Ëá™ÁÑ∂",desc:"È´òÁü•ÊúÄÈ´òÂ≥∞„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"Âúü‰ΩêÁ•ûÁ§æ",lat:33.5650,lng:133.5365,stars:4,genre:"ÊñáÂåñ",desc:"Âúü‰Ωê‰∏ÄÂÆÆ„ÄÇ",link:"https://www.tosajinja.or.jp/"},
 {name:"Ê°ÇÊµúÊ∞¥ÊóèÈ§®",lat:33.4955,lng:133.5730,stars:3,genre:"‰ΩìÈ®ì",desc:"„É¨„Éà„É≠Ê∞¥ÊóèÈ§®„ÄÇ",link:"https://katurahama-aq.jp/"},
 {name:"Á´πÊûóÂØ∫",lat:33.6060,lng:133.5310,stars:4,genre:"ÊñáÂåñ",desc:"Á¨¨31Áï™Êú≠ÊâÄ„ÄÇ",link:"https://www.takeshindenji.jp/"},
 {name:"Ë∂≥Êë∫Â≤¨",lat:32.7075,lng:133.0275,stars:5,genre:"Ëá™ÁÑ∂",desc:"È´òÁü•ÊúÄÂçóÁ´Ø„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"Êó•ÊõúÂ∏Ç",lat:33.5589,lng:133.5300,stars:4,genre:"‰ΩìÈ®ì",desc:"ÊØéÈÄ±ÈñãÂÇ¨„ÅÆÊúùÂ∏Ç„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"Á£ØÊú®Ê¥û",lat:33.4560,lng:133.4820,stars:4,genre:"Ëá™ÁÑ∂",desc:"Ëãî„ÇÄ„Åó„ÅüÊ∏ìË∞∑„ÄÇ",link:"https://kochi-tabi.jp/"},
 {name:"Êùâ„ÅÆÂ§ßÊùâ",lat:33.4815,lng:133.3040,stars:5,genre:"Ëá™ÁÑ∂",desc:"Ê®πÈΩ¢3000Âπ¥„ÄÇ",link:"https://kochi-tabi.jp/"}
];

function stars(n){ return "‚òÖ".repeat(n)+"‚òÜ".repeat(5-n); }

spots.forEach(s=>{
 const m = L.marker([s.lat,s.lng],{
   icon:L.icon({iconUrl:genrePins[s.genre],iconSize:[32,32],iconAnchor:[16,32]})
 }).addTo(map);

 m.bindPopup(`
   <div class="popup-name">${s.name}</div>
   <div class="popup-stars">${stars(s.stars)}</div>
   <div class="popup-desc">${s.desc}</div>
   <div class="popup-link"><a href="${s.link}" target="_blank">ÂÖ¨Âºè„Éö„Éº„Ç∏ ‚Üí</a></div>
 `);

 const li = document.createElement("li");
 li.innerHTML = `
   <div class="side-item">
     <div class="side-title">${s.name}</div>
     <div class="side-genre" data-genre="${s.genre}">${s.genre}</div>
   </div>
 `;
 li.onclick = ()=>{ map.setView([s.lat,s.lng],13); m.openPopup(); };
 document.getElementById("spot-list").appendChild(li);
});

/* current location */
let cur=null, acc=null;
const redPin = "https://maps.google.com/mapfiles/ms/icons/red-dot.png";
document.getElementById("locate-btn").onclick=()=>{
 navigator.geolocation.getCurrentPosition(p=>{
  const {latitude,longitude,accuracy}=p.coords;
  if(cur){map.removeLayer(cur); map.removeLayer(acc);}
  cur = L.marker([latitude,longitude], {
    icon:L.icon({iconUrl:redPin, iconSize:[32,32], iconAnchor:[16,32]})
  }).addTo(map).bindPopup("üìç ÁèæÂú®Âú∞").openPopup();
  acc = L.circle([latitude,longitude],{radius:accuracy,color:"#1976d2",fillOpacity:.15}).addTo(map);
  map.setView([latitude,longitude],14);
 });
};
</script>

</body>
</html>
