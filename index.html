# sfsdkhh
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Kochi Tourism Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
body{
  margin:0;
  font-family:"Poppins","Noto Sans JP",sans-serif;
  display:flex;
  height:100vh;
  background:#f4f6f8;
}

/* sidebar */
#sidebar{
  width:300px;
  background:#fff;
  padding:12px;
  overflow-y:auto;
  box-shadow:2px 0 8px rgba(0,0,0,0.08);
}
#sidebar h2{
  margin:0 0 12px;
  font-size:18px;
}
#spot-list{
  list-style:none;
  padding:0;
  margin:0;
}
#spot-list li{
  margin-bottom:8px;
  cursor:pointer;
}
.side-item{
  background:#f9fafb;
  border-radius:10px;
  padding:10px;
  transition:.2s;
}
.side-item:hover{
  background:#e3f2fd;
}
.side-title{
  font-weight:600;
  font-size:14px;
}
.side-genre{
  display:inline-block;
  margin-top:6px;
  padding:2px 8px;
  font-size:11px;
  border-radius:10px;
}
.side-genre[data-genre="è‡ªç„¶"]{background:#e8f5e9;color:#2e7d32;}
.side-genre[data-genre="æ–‡åŒ–"]{background:#e3f2fd;color:#1565c0;}
.side-genre[data-genre="ã‚°ãƒ«ãƒ¡"]{background:#fff3e0;color:#ef6c00;}
.side-genre[data-genre="ä½“é¨“"]{background:#f3e5f5;color:#6a1b9a;}

/* map */
#map{
  flex:1;
  position:relative;
}

/* locate button */
#locate-btn{
  position:absolute;
  right:20px;
  bottom:20px;
  width:48px;
  height:48px;
  border:none;
  border-radius:50%;
  background:#1976d2;
  color:#fff;
  font-size:22px;
  cursor:pointer;
  z-index:1000;
  box-shadow:0 4px 10px rgba(0,0,0,.3);
}

/* popup */
.leaflet-popup-content-wrapper{
  border-radius:14px;
}
.popup-name{
  font-weight:700;
  font-size:16px;
}
.popup-stars{
  color:#ffb400;
  margin:4px 0;
}
.popup-desc{
  font-size:13px;
  line-height:1.4;
}
.popup-link a{
  display:inline-block;
  margin-top:6px;
  color:#1976d2;
  font-weight:600;
  text-decoration:none;
}
</style>
</head>

<body>

<div id="sidebar">
  <h2>é«˜çŸ¥è¦³å…‰ã‚¹ãƒãƒƒãƒˆ</h2>
  <ul id="spot-list"></ul>
</div>

<div id="map">
  <button id="locate-btn">ğŸ“</button>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
const map = L.map("map").setView([33.5597,133.5311],9);

L.tileLayer(
  "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
  { attribution:"Tiles Â© Esri" }
).addTo(map);

const genrePins = {
  "è‡ªç„¶":"https://maps.google.com/mapfiles/ms/icons/green-dot.png",
  "æ–‡åŒ–":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",
  "ã‚°ãƒ«ãƒ¡":"https://maps.google.com/mapfiles/ms/icons/orange-dot.png",
  "ä½“é¨“":"https://maps.google.com/mapfiles/ms/icons/purple-dot.png"
};

/* è¦³å…‰åœ° */
const spots = [
 {name:"æ¡‚æµœ",lat:33.4961,lng:133.5715,stars:5,genre:"æ–‡åŒ–",desc:"å‚æœ¬é¾é¦¬åƒã§æœ‰åãªæ™¯å‹åœ°ã€‚",link:"https://katsurahama-park.com/"},
 {name:"ä»æ·€å·",lat:33.5535,lng:133.0458,stars:5,genre:"è‡ªç„¶",desc:"ä»æ·€ãƒ–ãƒ«ãƒ¼ã®æ¸…æµã€‚",link:"https://kochi-tabi.jp/"},
 {name:"ã«ã“æ·µ",lat:33.6446,lng:133.1656,stars:4,genre:"è‡ªç„¶",desc:"ç¥ç§˜çš„ãªæ»å£ºã€‚",link:"https://kochi-tabi.jp/"},
 {name:"åŒ—å·æ‘ãƒ¢ãƒã®åº­",lat:33.5836,lng:134.0622,stars:4,genre:"æ–‡åŒ–",desc:"ãƒ¢ãƒå…¬èªã®åº­åœ’ã€‚",link:"https://www.monet-garden.jp/"},
 {name:"å››å›½ã‚«ãƒ«ã‚¹ãƒˆ",lat:33.3652,lng:132.9253,stars:4,genre:"è‡ªç„¶",desc:"æ¨™é«˜1000mã®çµ¶æ™¯é«˜åŸã€‚",link:"https://visitkochijapan.com/"},
 {name:"é«˜çŸ¥åŸ",lat:33.5599,lng:133.5312,stars:3,genre:"æ–‡åŒ–",desc:"ç¾å­˜å¤©å®ˆã®åŸã€‚",link:"https://kochipark.jp/kochijyo/"},
 {name:"ã²ã‚ã‚å¸‚å ´",lat:33.5586,lng:133.5310,stars:4,genre:"ã‚°ãƒ«ãƒ¡",desc:"é«˜çŸ¥ã‚°ãƒ«ãƒ¡ã®è–åœ°ã€‚",link:"https://www.hirome.co.jp/"},
 {name:"å‚æœ¬é¾é¦¬è¨˜å¿µé¤¨",lat:33.5072,lng:133.5905,stars:4,genre:"æ–‡åŒ–",desc:"é¾é¦¬ã®è³‡æ–™é¤¨ã€‚",link:"https://ryoma-kinenkan.jp/"},
 {name:"å››ä¸‡åå·",lat:33.2333,lng:132.8667,stars:5,genre:"è‡ªç„¶",desc:"æ—¥æœ¬æœ€å¾Œã®æ¸…æµã€‚",link:"https://kochi-tabi.jp/"},
 {name:"ç‰§é‡æ¤ç‰©åœ’",lat:33.5612,lng:133.5372,stars:4,genre:"è‡ªç„¶",desc:"ç‰§é‡å¯Œå¤ªéƒã‚†ã‹ã‚Šã€‚",link:"https://www.makino.or.jp/"},
 {name:"é‡‘å‰›ç¦å¯º",lat:32.7280,lng:133.0282,stars:4,genre:"æ–‡åŒ–",desc:"ç¬¬38ç•ªæœ­æ‰€ã€‚",link:"https://www.kongofukuji.or.jp/"},
 {name:"ç¨²å¢å±±",lat:33.6312,lng:133.1150,stars:4,genre:"è‡ªç„¶",desc:"é«˜çŸ¥æœ€é«˜å³°ã€‚",link:"https://kochi-tabi.jp/"},
 {name:"åœŸä½ç¥ç¤¾",lat:33.5650,lng:133.5365,stars:4,genre:"æ–‡åŒ–",desc:"åœŸä½ä¸€å®®ã€‚",link:"https://www.tosajinja.or.jp/"},
 {name:"æ¡‚æµœæ°´æ—é¤¨",lat:33.4955,lng:133.5730,stars:3,genre:"ä½“é¨“",desc:"ãƒ¬ãƒˆãƒ­æ°´æ—é¤¨ã€‚",link:"https://katurahama-aq.jp/"},
 {name:"ç«¹æ—å¯º",lat:33.6060,lng:133.5310,stars:4,genre:"æ–‡åŒ–",desc:"ç¬¬31ç•ªæœ­æ‰€ã€‚",link:"https://www.takeshindenji.jp/"},
 {name:"è¶³æ‘ºå²¬",lat:32.7075,lng:133.0275,stars:5,genre:"è‡ªç„¶",desc:"é«˜çŸ¥æœ€å—ç«¯ã€‚",link:"https://kochi-tabi.jp/"},
 {name:"æ—¥æ›œå¸‚",lat:33.5589,lng:133.5300,stars:4,genre:"ä½“é¨“",desc:"æ¯é€±é–‹å‚¬ã®æœå¸‚ã€‚",link:"https://kochi-tabi.jp/"},
 {name:"ç£¯æœ¨æ´",lat:33.4560,lng:133.4820,stars:4,genre:"è‡ªç„¶",desc:"è‹”ã‚€ã—ãŸæ¸“è°·ã€‚",link:"https://kochi-tabi.jp/"},
 {name:"æ‰ã®å¤§æ‰",lat:33.4815,lng:133.3040,stars:5,genre:"è‡ªç„¶",desc:"æ¨¹é½¢3000å¹´ã€‚",link:"https://kochi-tabi.jp/"}
];

function stars(n){ return "â˜…".repeat(n)+"â˜†".repeat(5-n); }

spots.forEach(s=>{
 const m = L.marker([s.lat,s.lng],{
   icon:L.icon({iconUrl:genrePins[s.genre],iconSize:[32,32],iconAnchor:[16,32]})
 }).addTo(map);

 m.bindPopup(`
   <div class="popup-name">${s.name}</div>
   <div class="popup-stars">${stars(s.stars)}</div>
   <div class="popup-desc">${s.desc}</div>
   <div class="popup-link"><a href="${s.link}" target="_blank">å…¬å¼ãƒšãƒ¼ã‚¸ â†’</a></div>
 `);

 const li = document.createElement("li");
 li.innerHTML = `
   <div class="side-item">
     <div class="side-title">${s.name}</div>
     <div class="side-genre" data-genre="${s.genre}">${s.genre}</div>
   </div>
 `;
 li.onclick = ()=>{ map.setView([s.lat,s.lng],13); m.openPopup(); };
 document.getElementById("spot-list").appendChild(li);
});

/* current location */
let cur=null, acc=null;
document.getElementById("locate-btn").onclick=()=>{
 navigator.geolocation.getCurrentPosition(p=>{
  const {latitude,longitude,accuracy}=p.coords;
  if(cur){map.removeLayer(cur);map.removeLayer(acc);}
  cur=L.marker([latitude,longitude]).addTo(map).bindPopup("ğŸ“ ç¾åœ¨åœ°").openPopup();
  acc=L.circle([latitude,longitude],{radius:accuracy,color:"#1976d2",fillOpacity:.15}).addTo(map);
  map.setView([latitude,longitude],14);
 });
};
</script>

</body>
</html>
